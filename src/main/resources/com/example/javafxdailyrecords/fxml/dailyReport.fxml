<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.control.cell.PropertyValueFactory?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<!-- 根容器：StackPane 强制铺满窗口，无空白 -->
<StackPane xmlns="http://javafx.com/javafx/25"
           xmlns:fx="http://javafx.com/fxml/1"
           fx:id="rootAnchor"
           fx:controller="com.example.javafxdailyrecords.controller.DailyReportController"
           style="-fx-background-color: #f8f9fa;">

    <!-- TabPane：强制铺满StackPane，10px内边距 -->
    <TabPane tabClosingPolicy="UNAVAILABLE"
             style="-fx-background-color: white;
                    -fx-padding: 10px;
                    -fx-pref-width: 100%;
                    -fx-pref-height: 100%;">

        <tabs>
            <!-- 日报Tab -->
            <Tab text="日报"
                 style="-fx-font-family: 'Microsoft YaHei'; -fx-font-size: 14px; -fx-font-weight: bold;">
                <content>
                    <!-- 核心VBox：垂直方向强制填充，无空白 -->
                    <VBox spacing="15"
                          style="-fx-background-color: white;
                                 -fx-pref-width: 100%;
                                 -fx-pref-height: 100%;">

                        <!-- 新增按钮栏：固定高度，不压缩 -->
                        <HBox alignment="CENTER_LEFT" spacing="15"
                              style="-fx-min-height: 40px; -fx-pref-width: 100%;">
                            <Button fx:id="addReportBtn"
                                    text="新增"
                                    style="-fx-background-color: #409eff;
                                           -fx-text-fill: white;
                                           -fx-font-family: 'Microsoft YaHei';
                                           -fx-font-size: 14px;
                                           -fx-background-radius: 6px;
                                           -fx-padding: 8px 20px;
                                           -fx-cursor: hand;
                                           -fx-border-width: 0;">
                                <font><Font name="Microsoft YaHei" size="14"/></font>
                            </Button>
                            <Region style="-fx-hgrow: always;"/>
                        </HBox>

                        <!-- 表格ScrollPane：核心！垂直占满剩余空间 -->
                        <ScrollPane fx:id="tableScroll"
                                    style="-fx-background-color: transparent;
                                          -fx-border-width: 0;
                                          -fx-vgrow: always;
                                          -fx-pref-width: 100%;"
                                   fitToWidth="true" fitToHeight="false">

                            <TableView fx:id="dailyReportTable"
                                       style="-fx-background-color: white;
                                              -fx-border-color: #e6e6e6;
                                              -fx-border-width: 1px;
                                              -fx-border-radius: 6px;
                                              -fx-font-family: 'Microsoft YaHei';
                                              -fx-font-size: 13px;
                                              -fx-pref-width: 100%;">
                        <columnResizePolicy>
                            <TableView fx:constant="CONSTRAINED_RESIZE_POLICY_ALL_COLUMNS"/>
                        </columnResizePolicy>

                        <columns>
                            <TableColumn fx:id="indexColumn" text="序号" sortable="false"
                                         style="-fx-alignment: CENTER;
                                                        -fx-pref-width: 60;
                                                        -fx-min-width: 60;">
                            </TableColumn>
                            <TableColumn fx:id="dateColumn" text="日期" sortable="true"
                                         style="-fx-alignment: CENTER;
                                                        -fx-pref-width: 120;
                                                        -fx-min-width: 120;">
                                <cellValueFactory><PropertyValueFactory property="reportDate"/></cellValueFactory>
                            </TableColumn>
                            <TableColumn fx:id="weekColumn" text="星期" sortable="false"
                                         style="-fx-alignment: CENTER;
                                                        -fx-pref-width: 60;
                                                        -fx-min-width: 60;">
                                <cellValueFactory><PropertyValueFactory property="week"/></cellValueFactory>
                            </TableColumn>
                            <TableColumn fx:id="contentColumn" text="工作内容" sortable="false"
                                         style="-fx-hgrow: always;
                                                        -fx-pref-width: 300;
                                                        -fx-min-width: 200;">
                                <cellValueFactory><PropertyValueFactory property="content"/></cellValueFactory>
                            </TableColumn>
                            <TableColumn fx:id="remarkColumn" text="备注" sortable="false"
                                         style="-fx-alignment: CENTER;
                                                        -fx-pref-width: 150;
                                                        -fx-min-width: 100;">
                                <cellValueFactory><PropertyValueFactory property="remark"/></cellValueFactory>
                            </TableColumn>
                            <TableColumn fx:id="actionColumn" text="操作" sortable="false"
                                         style="-fx-alignment: CENTER;
                                                        -fx-pref-width: 140;
                                                        -fx-min-width: 140;">
                            </TableColumn>
                        </columns>
                    </TableView>
                    </ScrollPane>

                    <!-- 分页栏：固定高度，不压缩 -->
                    <HBox spacing="10" alignment="CENTER_RIGHT"
                          style="-fx-padding: 10px 0 0 0;
                                     -fx-font-family: 'Microsoft YaHei';
                                     -fx-min-height: 40px;
                                     -fx-pref-width: 100%;">
                        <Button fx:id="prevPageBtn" text="上一页"
                                style="-fx-background-color: #409eff; -fx-text-fill: white; -fx-font-size: 13px; -fx-padding: 5px 15px; -fx-background-radius: 4px;"/>
                        <Label text="第" style="-fx-font-size: 13px;"/>
                        <TextField fx:id="pageNumField" prefWidth="50" text="1"
                                   style="-fx-font-size: 13px; -fx-alignment: CENTER;"/>
                        <Label text="页 / 共" style="-fx-font-size: 13px;"/>
                        <Label fx:id="totalPageLabel" text="0" style="-fx-font-size: 13px;"/>
                        <Label text="页" style="-fx-font-size: 13px;"/>
                        <Button fx:id="nextPageBtn" text="下一页"
                                style="-fx-background-color: #409eff; -fx-text-fill: white; -fx-font-size: 13px; -fx-padding: 5px 15px; -fx-background-radius: 4px;"/>
                        <Region style="-fx-hgrow: always;"/>
                        <Label fx:id="totalCountLabel" text="总记录数：0条" style="-fx-font-size: 13px;"/>
                    </HBox>
                </VBox>
            </content>
        </Tab>

        <!-- 周报Tab：同日报Tab垂直自适应 -->
        <Tab text="周报"
             style="-fx-font-family: 'Microsoft YaHei'; -fx-font-size: 14px; -fx-font-weight: bold;">
            <content>
                <VBox spacing="15"
                      style="-fx-background-color: white;
                                 -fx-pref-width: 100%;
                                 -fx-pref-height: 100%;">
                    <Button fx:id="generateWeekBtn"
                            text="生成周报"
                            style="-fx-background-color: #67c23a;
                                       -fx-text-fill: white;
                                       -fx-font-family: 'Microsoft YaHei';
                                       -fx-font-size: 14px;
                                       -fx-background-radius: 6px;
                                       -fx-padding: 8px 20px;
                                       -fx-cursor: hand;
                                       -fx-border-width: 0;">
                        <font><Font name="Microsoft YaHei" size="14"/></font>
                    </Button>
                    <TextArea fx:id="weeklyReportArea" editable="false"
                              style="-fx-background-color: white;
                                         -fx-border-color: #e6e6e6;
                                         -fx-border-width: 1px;
                                         -fx-border-radius: 6px;
                                         -fx-font-family: 'Microsoft YaHei';
                                         -fx-font-size: 13px;
                                         -fx-padding: 10px;
                                         -fx-vgrow: always;">
                        <font><Font name="Microsoft YaHei" size="13"/></font>
                    </TextArea>
                </VBox>
            </content>
        </Tab>
    </tabs>
</TabPane>
        </StackPane>